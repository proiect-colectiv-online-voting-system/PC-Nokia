<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <title>Online Voting Admin</title>

  <!-- Bootstrap core CSS -->
  <link href="/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="/css/simple-sidebar.css" rel="stylesheet">

</head>

<body>

  <div class="d-flex" id="wrapper">

    <!-- Sidebar -->
    <div class="bg-light border-right" id="sidebar-wrapper">
            <div class="sidebar-heading" style="cursor: pointer">Online Vote </div>
            <div class="btn-group">
            <div class="list-group list-group-flush">
              <div class="btn-group">
              <a class="list-group-item list-group-item-action bg-light nav-link dropdown-toggle" href="#" id="loginDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Logins
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="loginDropdown">
                <a class="dropdown-item" href="login-list">List logins</a>
                <a class="dropdown-item" href="login-find">Find logins</a>
              </div>
              </div>
              <div class="btn-group">
              <a class="list-group-item list-group-item-action bg-light nav-link dropdown-toggle" href="#" id="pollDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Polls
              </a>
              <div class="dropdown-menu dropdown-menu-right" aria-labelledby="pollDropdown">
                <a class="dropdown-item" href="poll-create">Create poll</a>
                <a class="dropdown-item" href="poll-list">List polls</a>
              </div>
              </div>
            </div>
            </div>
          </div>
    <!-- /#sidebar-wrapper -->

    <!-- Page Content -->
      <div class="container-fluid">
            <h1>Create poll</h1>
            <form method="POST" action="/api/admin/poll-create">
            <div class="row">
                <div class="col">
                        <div class='options-wrapper'>
                            <div class='option-wrapper'>
                                <div class="form-group">
                                    <label>Option 1</label>
                                    <input type='text' class='form-control' id='option1' name='option1'>
                                </div>
                                <div class="form-group">
                                    <label for="icon1">Icon</label>
                                    <input type="file" class="form-control-file" id="icon1" name="icon1">
                                </div>
                            </div>
                            <div class='option-wrapper'>
                                <div class="form-group">
                                    <label>Option 2</label>
                                    <input type='text' class='form-control' id='option2' name='option2'>
                                </div>
                                <div class="form-group">
                                    <label for="icon2">Icon</label>
                                    <input type="file" class="form-control-file" id="icon2" name="icon2">
                                </div>
                            </div>
                        </div>
                    <button type="button" class="btn btn-primary add-options">Add more options</button>
                </div>
                <div class="col">
                    <input type="hidden" id="optionsCounted" name="optionsCounted">
                    <div class="form-group">
                        <label for="title">Title</label>
                        <input type="text" class="form-control" id="title" name="title">
                    </div>
                    <div class="form-group">
                        <label for="question">Question</label>
                        <input type="text" class="form-control" id="question" name="question">
                    </div>
                    <div class="form-group">
                        <label for="start_time">Start time</label>
                        <input type="datetime-local" class="form-control" id="start_time" name="start_time">
                    </div>
                    <div class="form-group">
                        <label for="end_time">End time</label>
                        <input type="datetime-local" class="form-control" id="end_time" name="end_time">
                    </div>
                    <center><button type="submit" class="btn btn-primary" style="width: 150px">Create</button></center>
                </div>
            </div>
        </form>
  </div>
    <!-- /#page-content-wrapper -->

  <!-- Bootstrap core JavaScript -->
  <script src="/vendor/jquery/jquery.min.js"></script>
  <script src="/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

</body>

</html>

<script>
    $(document).ready(function(){
        var optionCounter = 2;
        $('#optionsCounted').val(optionCounter);
        $('.add-options').on('click', function(){
            if(optionCounter <= 4){
                optionCounter++;
                $('#optionsCounted').val(optionCounter);
                $('.options-wrapper').append("<div class='option-wrapper'>" + '<div class="form-group">' + '<label>Option ' + optionCounter + '</label>' +
                                            "<input type='text' class='form-control' id='option" + optionCounter + "' name='option" + optionCounter + "'></div>" +
                                            '<div class="form-group">' + '<label for="icon' + optionCounter +'">Icon</label>' +
                                            '<input type="file" class="form-control-file" id="icon' + optionCounter + '" name="icon' + optionCounter + '"></div></div>');
                if(optionCounter == 4){
                    $('.add-options').hide();
                }
            }
        });
    });
</script>

<script>
  $('.sidebar-heading').on('click', function(e){
    window.location.replace("/admin");
  });
</script>